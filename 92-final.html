
<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Wake Up from 2020</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="aframe\aframe.min.js"></script>
</head>

<body>

  <script>
  AFRAME.registerComponent('auto-enter-vr', {
    init: function () {
      this.el.sceneEl.enterVR();
    }
  });
    
    AFRAME.registerComponent("waking0", {
  init: function() {
     var pieces = document.querySelectorAll(".dialogue, .clickable")
     this.el.addEventListener("click", e => {
       for (let piece of pieces) {
         piece.emit("show0")}
     }, {once: true})
   }
})

    AFRAME.registerComponent("waking1", {
  init: function() {
     var pieces = document.querySelectorAll(".dialogue, .clickable")
     this.el.addEventListener("click", e => {
       for (let piece of pieces) {
         piece.emit("show1")}
     }, {once: true})
   }
})

AFRAME.registerComponent("waking2", {
init: function() {
 var pieces = document.querySelectorAll(".dialogue, .clickable")
 this.el.addEventListener("click", e => {
   for (let piece of pieces) {
     piece.emit("show2")}
 }, {once: true})
}
})

AFRAME.registerComponent("waking3", {
init: function() {
 var pieces = document.querySelectorAll(".dialogue, .clickable")
 this.el.addEventListener("click", e => {
   for (let piece of pieces) {
     piece.emit("show3")}
 }, {once: true})
}
})

AFRAME.registerComponent("weblink", {
schema: {
  url: {
    default: ""
  }
},
init: function() {
  this.el.addEventListener("click", (e) => {
    window.location = this.data.url;
  })
}
})
  </script>

  <style>
  div.a-enter-ar {
    visibility: hidden;
  }
  div.a-enter-vr {
    visibility: hidden;
  }
  </style>


    <a-assets>
      <video id="wakeup" autoplay loop="false" preload src="video/final.mp4"
      playsinline webkit-playsinline></video>
    </a-assets>

    <a-assets timeout="32000">
      <audio id="rain" autoplay loop preload src="audio/rain-inside.mp3"
      playsinline webkit-playsinline></audio>
    </a-assets>

<a-scene raycaster="objects: .clickable" cursor="rayOrigin: mouse; fuse: false;"
loading-screen="dotsColor: white; backgroundColor: black" auto-enter-vr>

<a-camera look-controls wasd-controls-enabled="false"></a-camera>

  <a-videosphere src="#wakeup" rotation="0 -90 0"></a-videosphere>
  <a-sound src="#rain" position="0 0 0"></a-sound>

  <a-text class="clickable" value="...seems like I'm not I'm not ready to work yet..."
  color="white" position="0 1.6 -1" scale="0" opacity="1" align="center"
  width="1" rotation="0 0 0" geometry="primitive:plane; width:0.9; height:0.1" material="opacity: 0"
  animation__on="delay: 34000; property: scale; to: 1; dur: 100"
  animation__flash="property: opacity; to: 0; dur: 1500; dir: alternate; loop: true"
  animation__off="startEvents: click; property: scale; to: 0; dur: 100"
  waking0></a-text>

  <a-text class="clickable" value="none of those health tips helped..."
  color="white" position="0 1.6 -1" scale="0" opacity="1" align="center"
  width="1" rotation="0 0 0" geometry="primitive:plane; width:0.75; height:0.1" material="opacity: 0"
  animation__on="startEvents: show0; property: scale; to: 1; dur: 100"
  animation__flash="property: opacity; to: 0; dur: 1500; dir: alternate; loop: true"
  animation__off="startEvents: click; property: scale; to: 0; dur: 100"
  waking1></a-text>

  <a-text class="clickable" value="...or maybe its not really a
  'summer dizziness' or 'daydream'"
  color="white" position="0 1.6 -1" scale="0" opacity="1" align="center"
  width="1" rotation="0 0 0" geometry="primitive:plane; width:1; height:0.12" material="opacity: 0"
  animation__on="startEvents: show1; property: scale; to: 1; dur: 100"
  animation__flash="property: opacity; to: 0; dur: 1500; dir: alternate; loop: true"
  animation__off="startEvents: click; property: scale; to: 0; dur: 100"
  waking2></a-text>

  <a-text class="clickable" value="Maybe I just somehow stepped into another world

  where the pandemic ended for real!"
  color="white" position="0 1.6 -1" scale="0" opacity="1" align="center"
  width="1" rotation="0 0 0" geometry="primitive:plane; width:1.1; height:0.12" material="opacity: 0"
  animation__on="startEvents: show2; property: scale; to: 1; dur: 100"
  animation__flash="property: opacity; to: 0; dur: 1500; dir: alternate; loop: true"
  animation__off="startEvents: click; property: scale; to: 0; dur: 100"
  waking3></a-text>

  <a-text class="dialogue" value="Am I awake right now?"
  color="white" position="0 1.6 -1" scale="0" opacity="1" align="center"
  width="1" rotation="0 0 0"
  animation__on="startEvents: show3; property: scale; to: 1; dur: 100"></a-text>

  <a-text class="clickable" value="[RESTART DREAM]"
  color="white" position="0 1.4 -1" scale="0" opacity="1" align="center"
  width="1" rotation="0 0 0" geometry="primitive:plane; width:0.5; height:0.1" material="opacity: 0"
  animation__on="startEvents: show3; delay: 1500; property: scale; to: 1; dur: 100"
  animation__flash="property: opacity; to: 0; dur: 1500; dir: alternate; loop: true"
  weblink="url: index.html"></a-text>




  </a-scene>

</body>
</html>
