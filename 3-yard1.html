<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Wake Up from 2020</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="aframe\aframe.min.js"></script>
</head>

<body>

<script>
AFRAME.registerComponent('auto-enter-vr', {
  init: function () {
    this.el.sceneEl.enterVR();
  }
});

AFRAME.registerComponent("walk0", {
init: function() {
 var pieces = document.querySelectorAll(".dialogue, .clickable")
 this.el.addEventListener("click", e => {
   for (let piece of pieces) {
     piece.emit("show0")}
 }, {once: true})
}
})

  AFRAME.registerComponent("weblink", {
  schema: {
    url: {
      default: ""
    }
  },
  init: function() {
    this.el.addEventListener("click", (e) => {
      window.location = this.data.url;
    })
  }
})
</script>

<style>
div.a-enter-ar {
  visibility: hidden;
}
div.a-enter-vr {
  visibility: hidden;
}
</style>


  <a-assets>
    <video id="sky" autoplay loop preload src="video/yard1.mp4"
    playsinline webkit-playsinline></video>
    <img id="button" src="images/circle.png" alt="">
    <img id="arrow" src="images/arrow.png" alt="">
    <img id="phone" src="images/phone-walk.png">
  </a-assets>

  <a-scene raycaster="objects: .clickable" cursor="rayOrigin: mouse; fuse: false;"
  loading-screen="dotsColor: white; backgroundColor: black" auto-enter-vr>

  <a-camera look-controls wasd-controls-enabled="false"></a-camera>

  <a-sky src="#sky" rotation="0 90 0"></a-sky>

  <a-image id="green" class="clickable"
     src="#button" width="2.5" height="2.5" opacity="1"   scale="0"
     animation__on="property: scale; to: 1; delay: 5000; dur: 100"
     animation__flash="property: opacity; to: 0; dur: 600; dir: alternate; loop: true"
     position="-2 0 10"
     rotation="-90 0 0"
     weblink="url: 3-greenstand.html">
  </a-image>

  <a-image id="screen"
     src="#phone" width="1" height="1" opacity="1" scale="0"
     position="-1 1.5 -1" rotation="0 45 0"
     animation__on="property: scale; to: 1; delay: 5000; dur: 100">
  </a-image>

  <a-text class="clickable" value="Go for a mask-free walk?"
  color="#aaff7f" opacity="1" align="center" scale="0"
  width="1.8" position="-1 1.12 -1" rotation="0 45 0"geometry="primitive:plane; width:0.9; height:0.13" material="opacity:0"
  animation__on="property: scale; to: 1; delay: 5000; dur: 100"
  animation__flash="property: opacity; to: 0.25; dur: 800; dir: alternate; loop: true"
  animation__off="startEvents: click; property: scale; to: 0; dur: 100"
  walk0></a-text>

  <a-text class="dialogue" value="East Door Unlocked"
  color="#aaff7f" opacity="1" align="center" scale="0"
  width="1.8" position="-1 1.15 -1" rotation="0 45 0"
  animation__on="startEvents: show0; property: scale; to: 1; delay: 500; dur: 100"></a-text>

  <a-image id="door" class="clickable"
  src="#arrow" width="1" height="1" opacity="1"   scale="0"
  animation__on="startEvents: show0; property: scale; to: 1; delay: 500; dur: 100"
  animation__flash="property: opacity; to: 0; dur: 1000; dir: alternate; loop: true"
  animation__down="property: position; to: 3.5 2.85 -6; dur: 1000; dir: alternate; loop: true"
  position="3.5 3 -6"
  rotation="0 0 0"
  weblink="url: 4-out1.html">
</a-image>


</a-scene>

</body>
</html
