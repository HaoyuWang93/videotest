
<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Wake Up from 2020</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="aframe\aframe.min.js"></script>
  <script src="js\jquery-3.7.0.min.js"></script>
</head>

<body>

  <script>
  window.addEventListener('vrdisplayactivate', function () {
  device.requestPresent([{source: renderer.domElement}]);
  });

    AFRAME.registerComponent("playstart", {
      init: function () {
        var myVideo = document.querySelector("#wakeup");
        this.el.addEventListener("click", function () {
            myVideo.play();
        }, {once: true})
      }
    })

    AFRAME.registerComponent("waking0", {
  init: function() {
     var pieces = document.querySelectorAll(".dialogue, .clickable")
     this.el.addEventListener("click", e => {
       for (let piece of pieces) {
         piece.emit("show0")}
     }, {once: true})
   }
})

    AFRAME.registerComponent("waking1", {
  init: function() {
     var pieces = document.querySelectorAll(".dialogue, .clickable")
     this.el.addEventListener("click", e => {
       for (let piece of pieces) {
         piece.emit("show1")}
     }, {once: true})
   }
})

AFRAME.registerComponent("waking2", {
init: function() {
 var pieces = document.querySelectorAll(".dialogue, .clickable")
 this.el.addEventListener("click", e => {
   for (let piece of pieces) {
     piece.emit("show2")}
 }, {once: true})
}
})

    AFRAME.registerComponent("waked", {
  init: function() {
     var pieces = document.querySelectorAll(".dialogue, .clickable")
     this.el.addEventListener("click", e => {
       for (let piece of pieces) {
         piece.emit("show3")}
     }, {once: true})
   }
})
  </script>

  <style>
  div.a-enter-ar {
    visibility: hidden;
  }
  </style>

    <a-assets>
      <video id="wakeup" loop="false" preload src="video/wakeup1.mp4"
      playsinline webkit-playsinline></video>
      <img id="button" src="images/phone.png">
      <img id="controller" src="images/controller.png">
    </a-assets>

<a-scene raycaster="objects: .clickable" cursor__xrselect="rayOrigin: xrselect"
loading-screen="dotsColor: white; backgroundColor: black">

<a-camera look-controls wasd-controls-enabled="false"></a-camera>

  <a-entity laser-controls="hand: right"
  raycaster="objects: .clickable; lineColor: red; lineOpacity: 0.5"></a-entity>

  <a-videosphere src="#wakeup" rotation="0 0 0"></a-videosphere>

  <a-text class="dialogue" value="[ONE MORE TIME BEFORE SLEEP
  Click the 'VR' button to start]

  [Pull the right-hand trigger
  on the Flashing Texts/Objects
  to Proceed]"
  color="white" position="0 1.5 -1" scale="1" opacity="1" align="center"
  width="0.75" rotation="0 0 0"
  animation__off="startEvents: show0; property: scale; to: 0; dur: 100"></a-text>

  <a-image id="control" class="dialogue"
     src="#controller" width="0.3" height="0.3" opacity="1" scale="1"
     position="0 1.2 -1" rotation="0 0 0"
     animation__off="startEvents: show0; property: scale; to: 0; dur: 100">
  </a-image>

  <a-text class="clickable" value="...I had that weird dream again...
  where the pandemic ended like magic..."
  color="white" position="0 2 -1" scale="1" opacity="1" align="center"
  width="1" rotation="30 0 0" geometry="primitive:plane; width:0.75; height:0.2" material="opacity: 0"
  animation__flash="property: opacity; to: 0; dur: 1500; dir: alternate; loop: true"
  animation__off="startEvents: click; property: scale; to: 0; dur: 100"
  waking0></a-text>

  <a-text class="clickable" value="maybe its just a side effect
  of my recent dizziness issues
  under the 24-hour daylight here..." color="white" position="0 2 -1" scale="0" opacity="1" align="center"
  width="1" rotation="30 0 0" geometry="primitive:plane; width:0.75; height:0.2" material="opacity: 0"
  animation__on="startEvents: show0; property: scale; to: 1; dur: 100"
  animation__flash="property: opacity; to: 0; dur: 1500; dir: alternate; loop: true"
  animation__off="startEvents: click; property: scale; to: 0; dur: 100"
  waking1></a-text>

  <a-text class="clickable" value="Still, I can't think of a better spot
  for my summer work shift" color="white" position="0 2 -1" scale="0" opacity="1" align="center"
  width="1" rotation="30 0 0" geometry="primitive:plane; width:0.75; height:0.15" material="opacity: 0"
  animation__on="startEvents: show1; property: scale; to: 1; dur: 100"
  animation__flash="property: opacity; to: 0; dur: 1500; dir: alternate; loop: true"
  animation__off="startEvents: click; property: scale; to: 0; dur: 100"
  waking2></a-text>

  <a-text class="clickable" value="Wake Up Time?" color="white" position="0 2 -1" scale="0" opacity="1" align="center"
  width="2" rotation="30 0 0" geometry="primitive:plane; width:0.6; height:0.15" material="opacity: 0"
  animation__on="startEvents: show2; property: scale; to: 1; dur: 100"
  animation__flash="property: opacity; to: 0; dur: 1500; dir: alternate; loop: true"
  animation__off="startEvents: click; property: scale; to: 0; dur: 100"
  sound="on: click; delay: 13000; src: #notification"
  playstart
  waked></a-text>

  <a-image id="screen" class="dialogue"
     src="#button" width="1" height="1" opacity="1" scale="0"
     position="-1 1.5 -1" rotation="0 45 0"
     animation__on="startEvents: show3; property: scale; to: 1; delay: 12000; dur: 100">
  </a-image>

  <a-entity class="clickable" scale="0"
  text="value: I'm Ready :); position:-1 1.3 -1; rotation: 0 45 0; width:3; color:#aaff7f; align: center"
  width="3" position="-1 1.3 -1" rotation="0 45 0"geometry="primitive:plane; width:0.75; height:0.15" material="opacity:0"
  animation__on="startEvents: show3; property: scale; to: 1; delay: 13000; dur: 100"
  animation__flash="property: opacity; to: 0; dur: 800; dir: alternate; loop: true"
  link="href: 1-bedroom.html"></a-entity>
  </a-scene>

</body>
</html>
